{% extends "../rutinas/inicio-alumno.html" %}
{% load staticfiles %} <!-- Se cargan los archivos estáticos de CSS, HTML, etc -->
{% load static %}
{% block styles %}
    <link rel="stylesheet" href="{% static 'rutinas/css/style.css' %}">
    <link rel="stylesheet" href="{% static 'rutinas/css/perfil.css' %}">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
{% endblock %}
{% block contenido %} <!-- Se define el bloque que encierra todo el contenido de esta vista -->
{% block menu %} {{ block.super }} {% endblock %}
{% block principal %}
<div class="contenedor">
    <div class="full-container fondo">
        <h3 id="titulo-form" style="text-align: center;">{{cliente.nombre}} {{cliente.apellido}}</h3><br>
        <div class="perfilcamara">
            <img class="img-perfil" src="{{ cliente.foto.url }}" >
        </div>
    </div>
    <nav>
        <div class="nav nav-tabs" id="nav-tab" role="tablist">
            <a class="nav-item nav-link active" id="nav-personales-tab" data-toggle="tab" href="#nav-personales" role="tab" aria-controls="nav-personales" aria-selected="true">Datos Personales</a>
            <a class="nav-item nav-link" id="nav-ficha-tab" data-toggle="tab" href="#nav-ficha" role="tab" aria-controls="nav-ficha" aria-selected="false">Ficha Médica</a>
        </div>
    </nav>
    
    <div class="tab-content" id="nav-tabContent">
        <div class="tab-pane fade show active" id="nav-personales" role="tabpanel" aria-labelledby="nav-personales-tab">
        <form method="POST">
            {% csrf_token %}
            <div class="container-formulario"><br>                
                <div class="row row-formulario">
                    <div class="col-sm-4 col-12">
                        <label for="nombre">Nombre:</label>
                        <input type="text" size="26" value="{{ cliente.nombre }}" class="form-control" id="email" name="email">
                    </div>
                    <div class="col-sm-4 col-12">
                        <label for="nombre">Apellido:</label>
                        <input type="text" size="26" value="{{ cliente.apellido }}" class="form-control" id="email" name="email">
                    </div>
                    <div class="col-sm-4 col-12">
                        <label for="nombre">DNI:</label>
                        <input type="number" size="26" value="{{ cliente.dni }}" class="form-control" id="email" name="email">
                    </div>
                </div>
                <div class="row row-formulario">
                    <div class="col-sm-4 col-12">
                        <label for="nombre">Foto de perfil:</label>
                        <input type="file" value= "{{ cliente.foto }}" name="myImage" accept="image/*" />
                    </div>
                    <div class="col-sm-8 col-12">
                        <label for="nombre">Telefono:</label>
                        <input type="number" size="26" value="{{ cliente.telefono }}" class="form-control" id="email" name="email">
                    </div>                    
                </div>
                <div class="row row-formulario">
                    <div class="col-sm-6 col-12">
                        <label for="localidad">Domicilio:</label>
                        <input type="text" value="{{ cliente.domicilio }}" class="form-control" id="pwd" name="pwd">
                    </div>
                    <div class="col-sm-6 col-12" >
                        <label for="email">E-mail:</label>
                        <input type="email" value="{{ cliente.mail }}" class="form-control" id="email" name="email">
                    </div>
                </div>
                <button type="submit" class="col-sm-12 btn btn-success">Guardar</button>  
            </div>
        </form>
        </div>
        <div class="tab-pane fade" id="nav-ficha" role="tabpanel" aria-labelledby="nav-ficha-tab">
            <div class="container-formulario"><br>
                <div class="row row-formulario">
                    <div class="col-sm-4 col-12">
                        <label for="nombre">Fecha de Nacimiento:</label>
                        <input type="text" size="26" value="{{ ficha.fecha_nacimiento }}" class="form-control" id="email" name="email">
                    </div>
                    <div class="col-sm-4 col-12">
                        <label for="apellido">Sexo:</label>
                        <select>
                                <option value="masculino">Masculino</option>
                                <option value="femenino">Femenino</option>
                        </select>                    
                    </div>
                    <div class="col-sm-4 col-12">
                        <label for="dni">Peso:</label>
                        <input type="number" value="{{ ficha.peso }}" class="form-control" id="dni" name="dni">
                    </div>
                </div>
                <div class="row row-formulario">
                    <div class="col-sm-6 col-12">
                        <label for="localidad">Altura:</label>
                        <input type="text" value="1,75 cm" class="form-control" id="pwd" name="pwd">
                    </div>
                    <div class="col-sm-6 col-12" >
                        <label for="email">Mutual/Obra Social:</label>
                        <input type="email" value="AMFFA" class="form-control" id="email" name="email">
                    </div>
                    <div class="col-sm-6 col-12" >
                        <label for="email">Telefono de emergencia:</label>
                        <input type="email" value="221 483 3239" class="form-control" id="email" name="email">
                    </div>
                    <div class="col-sm-6 col-12" >
                        <label for="comment">Observaciones:</label>
                        <textarea class="form-control" id="comment" style="height: 100%;">Tendinitis aguda rodilla izquierda. Desgarro mal curado cuadriceps pierna derecha</textarea>
                    </div>
                </div>
            </div>   
        </div> 
    </div>
</div>
<script>
            
 
        $(function(){
            $('.editText').dblclick( function(){
                var text = $(this).text();
                $(this).empty().html('<input type="text" value="'+text+'">').find('input').focus();
            }).keypress( function(e){
                if(e.keyCode == 13){
                    var text = $('input', this).val();
                    $(this).html( text );
                }
            });
        });
    </script>
{% endblock%}
{% endblock%}